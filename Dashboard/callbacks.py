## Ce fichier contient des fonctions d'update qui servent à ajouter de l'interaction
## à la page Web (callbacks)

from dash.dependencies import Input, Output
from app import app
from components.functions import update_graph
from components.functions import lancer_calcul

# Mise à jour de la sélection du menu déroulant
@app.callback(
    Output('dd-output-container', 'children'),
    Input('demo-dropdown', 'value')
)

def update_output(value):
    return f'You have selected {value}'

#callback de mise à jour des graphs(line et bar) à partir des cases à cocher
@app.callback(
   Output('publishing', 'figure'),
   [Input('radio-button-publishing', 'value'), Input('demo-dropdown', 'value')])
def update_publishing(affichage, model):
    return update_graph(model, affichage)


# Lancement du calcul d'un modèle
@app.callback(
    Output('cmd', 'children'),
    Input('model', 'value'),
    Input('input1', 'value'),
    Input('method', 'value'),
    Input('input3', 'value'),
    Input('input4', 'value'),
    Input('input5', 'value'),
    Input('input6', 'value'),
    Input('input7', 'value'),
    Input('input8', 'value'),
    Input('input9', 'value')
)
def response(value0, value1, value2, value3, value4, value5, value6, value7, value8, value9):
    res = lancer_calcul(value0, value1, value2, value3, value4, value5, value6, value7, value8, value9)
    return f'{res}'