import dash_core_components as dcc
import dash_html_components as html
import dash_table
from datetime import datetime as dt
from datetime import date, timedelta
import pandas as pd
import time
import dash
import dash_bootstrap_components as dbc

from dash.dependencies import Output, Input
from app import app

############################# Choix du modèle (menus déroulants) #############################
dropdown=dcc.Dropdown(
  options=[
      #{'label': 'choix date', 'value': 'choix'},
      {'label': 'Modèle 2', 'value': 'model2'},
      {'label': 'Modèle 3', 'value': 'model3'},
      {'label': 'Modèle 3 - Bis', 'value': 'model3bis'},
      {'label': 'Modèle 3 - Pic', 'value': 'model3pic'},
      {'label': 'Combinaison des modèles', 'value': 'modelcombination'},
      {'label': 'Combinaison Série', 'value': 'ModelsCombinationSerie'},
      {'label': 'Combinaison Pic', 'value': 'ModelsCombinationPic'},
      {'label': 'CVXOPT - Modèle 3', 'value': 'CVXOPTmodel3'},
      {'label': 'CVXOPT - Combinaison', 'value': 'CVXOPTmodelcombination'},
      {'label': 'CVXOPT - Combinaison Quadratique', 'value': 'CVXOPTModelsCombinationQuadratique'},
      {'label': 'CVXOPT - Combinaison Série', 'value': 'CVXOPTModelsCombinationSerie'}
  ],
  value="model2",
  id = 'demo-dropdown'
  )

dropdown_label =html.H2("Modèle : ",style={'color':'#ffff'})
dropdown_line = dbc.Row([dbc.Col(dropdown_label , lg=2), dbc.Col(dropdown, lg=5)])
############################################################################



########################### Sélection des paramètres ###############################

line1_label = html.Div("forward_year : ", style={'color':'white'})
line1_input = html.Div(dcc.Input(id='input1', value='400', type='text'))
line1 = dbc.Row([dbc.Col(line1_label, lg=2), dbc.Col(line1_input, lg=2)])

line2_label = html.Div("méthode : ", style={'color':'white'})
line2_input = html.Div(dcc.Dropdown(
  options=[
      {'label': 'Recuit Simulé', 'value': '0'},
      {'label': 'Déterministe', 'value': '1'},
      {'label': 'Génétique', 'value': '2'}
  ],
  value="0",
  id = 'input2'
  ))
line2 = dbc.Row([dbc.Col(line2_label, lg=2), dbc.Col(line2_input, lg=2)])

line3_label = html.Div("delta de coupe : ", style={'color':'white'})
line3_input = html.Div(dcc.Input(id='input3', value='2', type='text'))
line3 = dbc.Row([dbc.Col(line3_label, lg=2), dbc.Col(line3_input, lg=2)])

line4_label = html.Div("surface min : ", style={'color':'white'})
line4_input = html.Div(dcc.Input(id='input4', value='0.01', type='text'))
line4 = dbc.Row([dbc.Col(line4_label, lg=2), dbc.Col(line4_input, lg=2)])

line5_label = html.Div("itérations max : ", style={'color':'white'})
line5_input = html.Div(dcc.Input(id='input5', value='30000', type='text'))
line5 = dbc.Row([dbc.Col(line5_label, lg=2), dbc.Col(line5_input, lg=2)])

line6_label = html.Div("minimize_coupe_gen : ", style={'color':'white'})
line6_input = html.Div(dcc.Input(id='input6', value='5', type='text'))
line6 = dbc.Row([dbc.Col(line6_label, lg=2), dbc.Col(line6_input, lg=2)])

line7_label = html.Div("âge de cab : ", style={'color':'white'})
line7_input = html.Div(dcc.Input(id='input7', value='50', type='text'))
line7 = dbc.Row([dbc.Col(line7_label, lg=2), dbc.Col(line7_input, lg=2)])

line8_label = html.Div("âge de début : ", style={'color':'white'})
line8_input = html.Div(dcc.Input(id='input8', value='2021', type='text'))
line8 = dbc.Row([dbc.Col(line8_label, lg=2), dbc.Col(line8_input, lg=2)])

line9_label = html.Div("frequence : ", style={'color':'white'})
line9_input = html.Div(dcc.Input(id='input9', value='20', type='text'))
line9 = dbc.Row([dbc.Col(line9_label, lg=2), dbc.Col(line9_input, lg=2)])

####################################################################################


########################### Lancement du calcul ###############################

button = html.Button('Calculer', id='button_calcul')
button_line = dbc.Row(dbc.Col(button, lg=10))

useless = html.Div(id='hidden-div', style={'display':'none'})

###############################################################################


#déclaration layout final
layout_calcul  = html.Div([html.Br(), dropdown_line, html.Br(), line1, html.Br(), line2, html.Br(), line3, html.Br(), line4
                           , html.Br(), line5, html.Br(), line6, html.Br(), line7, html.Br(), line8
                           , html.Br(), line9, html.Br(), button_line],style={"background-color":'black',"height": "100vh"})
